{"version":3,"sources":["webpack:///./src/pages/index.mdx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/Layout/Meta.js","webpack:///./src/components/Layout/Sidebar.js","webpack:///../src/helpers.js","webpack:///../src/FioraField.js","webpack:///../src/FioraFormMeta.js","webpack:///../src/index.js","webpack:///../src/formFactory.js","webpack:///../src/fieldFactory.js","webpack:///../src/formMetaFactory.js","webpack:///./src/components/Layout/PreComponent.js","webpack:///./src/components/Layout/Layout.js","webpack:///./src/components/Layout/index.js"],"names":["__webpack_exports__","default","_ref","components","props","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0___default","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_mdx_js_tag__WEBPACK_IMPORTED_MODULE_2__","MDXTag","name","Layout","_home_xiaofan_dev_fiora_www_src_components_Layout_index_js__WEBPACK_IMPORTED_MODULE_3__","layoutProps","parentName","className","gatsby__WEBPACK_IMPORTED_MODULE_4__","Link","to","_frontmatter","__webpack_require__","r","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","push","replace","navigateTo","_wait_for_route_change__WEBPACK_IMPORTED_MODULE_3__","c","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_4___default","_parse_path__WEBPACK_IMPORTED_MODULE_5__","createContext","Consumer","staticQueryData","data","query","render","children","Error","propTypes","object","string","isRequired","func","m","module","exports","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","location","pageResources","getResourcesForPathname","pathname","shape","u","172","e","t","i","o","s","l","p","Meta","metadata","react_default","Helmet_default","title","meta","content","description","keywords","join","lang","prop_types_default","array","Layout_Meta","f","cssSidebar","Object","index_esm","cssNav","cssTitle","cssLink","activeLinkStyle","backgroundColor","Sidebar","siteTitle","gatsby_browser_entry","activeStyle","Layout_Sidebar","E","k","S","V","w","T","F","j","O","R","N","M","helpers_getFormValues","fields","keys","reduce","reduced","fieldName","_objectSpread2","objectSpread_default","value","getFieldValue","state","helpers_getInitialValues","initialValues","_objectSpread3","FioraField_FioraField","isValidating","updateValue","newValue","_this$props","_this","validator","_callee","onValidate","error","regenerator_default","wrap","_context","prev","next","setState","sent","abrupt","t0","catch","stop","this","apply","arguments","validate","_this$props2","validateField","shouldComponentUpdate","nextProps","nextState","_this2","changed","forEach","key","console","log","componentDidMount","_this$props3","registerField","_this$props4","isTouched","react","Component","defaultProps","src_FioraField","P","src_FioraFormMeta","isSubmitting","isValid","PureComponent","src","_React$createContext","Provider","Form","_React$Component","_len","length","args","Array","_key","call","concat","fieldsInfo","info","prevState","then","_updateErrors","errors","hasErrors","errorObj","partial","filter","_objectSpread4","handleSubmit","asyncToGenerator_default","mark","event","onSubmit","fieldNames","fieldErrors","formData","formErrors","submitErrors","hasSubmitErrors","preventDefault","some","Promise","all","map","index","_objectSpread5","_x","handleReset","onReset","inheritsLoose_default","_proto","prototype","rest","objectWithoutPropertiesLoose_default","assign","Field","_ref2","FormMeta","cssLive","cssEditor","cssPreview","PreComponent_PreComponent","instance","showInteractive","endsWith","react_live_es","code","scope","mountStylesheet","contentEditable","b","node","Layout_PreComponent","Q","cssLayout","cssMain","cssMainSection","_2913518534","site","Fragment","siteMetadata","dist","MDXProvider","pre","Layout_Layout","B"],"mappings":"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","file":"component---src-pages-index-mdx-cfb4cb388f355a54b50a.js","sourcesContent":["import React from 'react'\nimport { MDXTag } from '@mdx-js/tag'\n\n\nimport DefaultLayout from \"/home/xiaofan/dev/fiora/www/src/components/Layout/index.js\"\nimport { Link } from 'gatsby';\n\nexport default ({components, ...props}) => <MDXTag name=\"wrapper\" Layout={DefaultLayout} layoutProps={props} components={components}>\n\n\n<MDXTag name=\"h1\" components={components}>{`Fiora`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Fiora aims to help you build forms in React easily.`}</MDXTag>\n<MDXTag name=\"h2\" components={components}>{`Get Started`}</MDXTag>\n<MDXTag name=\"p\" components={components}>{`Install using `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`yarn`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-sh-static\"}}>{`yarn add fiora\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`or if you prefer `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`npm`}</MDXTag></MDXTag>\n<MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\"className\":\"language-sh-static\"}}>{`npm install fiora\n`}</MDXTag></MDXTag>\n<MDXTag name=\"p\" components={components}>{`Next, go through the `}<Link to=\"/tutorial\">{`tutorial`}</Link>{`.`}</MDXTag></MDXTag>\n\nexport const _frontmatter = {};\n\n  ","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport { waitForRouteChange } from \"./wait-for-route-change\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  waitForRouteChange,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\n\nfunction Meta({ metadata }) {\n  return (\n    <Helmet\n      title={metadata.title}\n      meta={[\n        { name: 'description', content: metadata.description },\n        {\n          name: 'keywords',\n          content: metadata.keywords.join(', '),\n        },\n      ]}\n    >\n      <html lang=\"en\" />\n    </Helmet>\n  );\n}\n\nMeta.propTypes = {\n  metadata: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    keywords: PropTypes.array.isRequired,\n  }).isRequired,\n};\n\nexport default Meta;\n","import React from 'react';\nimport { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport { css } from 'react-emotion';\n\nconst cssSidebar = css`\n  position: fixed;\n  left: 0;\n  width: 240px;\n  height: 100vh;\n  background: #f04242;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst cssNav = css`\n  flex: 1;\n`;\n\nconst cssTitle = css`\n  margin-top: 12px;\n  font-size: 54px;\n  color: #fff;\n  text-align: center;\n  cursor: default;\n`;\n\nconst cssLink = css`\n  color: #fff;\n  display: block;\n  font-size: 18px;\n  font-weight: 200;\n  padding: 4px 24px;\n  text-decoration: none;\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.24);\n  }\n`;\n\nconst activeLinkStyle = {\n  backgroundColor: ' rgba(255, 255, 255, 0.24)',\n};\n\nfunction Sidebar({ siteTitle }) {\n  return (\n    <div className={cssSidebar}>\n      <div className={cssNav}>\n        <h1 className={cssTitle}>{siteTitle}</h1>\n        <Link to=\"/\" className={cssLink} activeStyle={activeLinkStyle}>\n          Get Started\n        </Link>\n        <Link to=\"/tutorial\" className={cssLink} activeStyle={activeLinkStyle}>\n          Tutorial\n        </Link>\n        <Link to=\"/api\" className={cssLink} activeStyle={activeLinkStyle}>\n          API\n        </Link>\n      </div>\n      <div>footer</div>\n    </div>\n  );\n}\n\nSidebar.propTypes = {\n  siteTitle: PropTypes.string.isRequired,\n};\n\nexport default Sidebar;\n","/* @flow */\nimport type { FormState } from './formFactory';\n\nexport const getFormValues = (fields: $PropertyType<FormState, 'fields'>) =>\n  Object.keys(fields).reduce(\n    (reduced, fieldName) => ({\n      ...reduced,\n      [fieldName]: fields[fieldName].value,\n    }),\n    {}\n  );\n\nexport const getFieldValue = (fieldName: string, state: FormState) =>\n  state.fields[fieldName] ? state.fields[fieldName].value : undefined;\n\nexport const getInitialValues = (initialValues?: PlainObject) =>\n  initialValues\n    ? Object.keys(initialValues).reduce(\n        (reduced, fieldName) => ({\n          ...reduced,\n          [fieldName]: {\n            // TODO clone\n            value: initialValues[fieldName],\n          },\n        }),\n        {}\n      )\n    : {};\n","/* @flow */\nimport * as React from 'react';\nimport type { FormState } from './formFactory';\n\ntype FioraFieldProps = FieldProps & {\n  updateValue: $PropertyType<FormState, 'updateValue'>,\n  registerField: $PropertyType<FormState, 'registerField'>,\n  validateField: $PropertyType<FormState, 'validateField'>,\n} & InternalFieldState;\n\ntype FioraFieldState = {\n  isValidating: $PropertyType<FieldRenderProps, 'isValidating'>,\n};\n\nclass FioraField extends React.Component<FioraFieldProps, FioraFieldState> {\n  /**\n   * Always default value to empty string to avoid React warning.\n   * React will warning if a input value changes from undefined to controlled.\n   */\n  static defaultProps = {\n    value: '',\n  };\n\n  state = {\n    isValidating: false,\n  };\n\n  shouldComponentUpdate(\n    nextProps: FioraFieldProps,\n    nextState: FioraFieldState\n  ) {\n    let changed = false;\n    Object.keys(nextProps).forEach(key => {\n      if (nextProps[key] !== this.props[key]) {\n        console.log(`[FioraField]: Props ${key}`);\n        changed = true;\n      }\n    });\n    Object.keys(nextState).forEach(key => {\n      if (nextState[key] !== this.state[key]) {\n        console.log(`[FioraField]: State ${key}`);\n        changed = true;\n      }\n    });\n\n    return changed;\n  }\n\n  componentDidMount() {\n    const { name, registerField } = this.props;\n\n    registerField(name, { validator: this.validator });\n  }\n\n  updateValue = (newValue: any) => {\n    const { updateValue, name } = this.props;\n\n    updateValue(name, newValue);\n  };\n\n  validator = async (value: any) => {\n    const { onValidate } = this.props;\n    if (onValidate) {\n      try {\n        this.setState({ isValidating: true });\n        const error = await onValidate(value);\n        this.setState({ isValidating: false });\n\n        return error;\n      } catch (error) {\n        // TODO handle error\n        this.setState({ isValidating: false });\n      }\n    }\n    return null;\n  };\n\n  validate = () => {\n    const { name, validateField } = this.props;\n\n    validateField(name);\n  };\n\n  render() {\n    const { children, value, error, isTouched } = this.props;\n    const { isValidating } = this.state;\n    console.log('[FioraField]: render');\n\n    return children({\n      value,\n      error,\n      isTouched: !!isTouched,\n      isValidating,\n      updateValue: this.updateValue,\n      validate: this.validate,\n    });\n  }\n}\n\nexport default FioraField;\n","/* @flow */\nimport * as React from 'react';\n\ntype FioraFormMetaProps = {\n  children: $PropertyType<FormMetaProps, 'children'>,\n  error: $PropertyType<FormMetaRenderProps, 'error'>,\n  isValidating: $PropertyType<FormMetaRenderProps, 'isValidating'>,\n  isSubmitting: $PropertyType<FormMetaRenderProps, 'isSubmitting'>,\n  isTouched: $PropertyType<FormMetaRenderProps, 'isTouched'>,\n  isValid: $PropertyType<FormMetaRenderProps, 'isValid'>,\n};\n\nclass FioraFormMeta extends React.PureComponent<FioraFormMetaProps> {\n  render() {\n    const {\n      children,\n      error,\n      isValidating,\n      isSubmitting,\n      isTouched,\n      isValid,\n    } = this.props;\n\n    return children({ error, isValidating, isSubmitting, isTouched, isValid });\n  }\n}\n\nexport default FioraFormMeta;\n","/* @flow */\nimport * as React from 'react';\nimport createForm from './formFactory';\nimport createField from './fieldFactory';\nimport createFormMeta from './formMetaFactory';\n\nconst createFiora = () => {\n  const { Provider, Consumer } = React.createContext();\n\n  return {\n    Form: createForm(Provider),\n    Field: createField(Consumer),\n    FormMeta: createFormMeta(Consumer),\n  };\n};\n\nexport default createFiora;\n","/* @flow */\nimport * as React from 'react';\nimport { getFormValues, getFieldValue, getInitialValues } from './helpers';\n\nexport type FormState = {\n  error: $PropertyType<FormMetaRenderProps, 'error'>,\n  isValidating: $PropertyType<FormMetaRenderProps, 'isValidating'>,\n  isSubmitting: $PropertyType<FormMetaRenderProps, 'isSubmitting'>,\n  fields: { [string]: InternalFieldState },\n  registerField: (fieldName: string, info: {}) => void,\n  updateValue: (fieldName: string, value: any) => void,\n  validateField: (fieldName: string) => void,\n};\n\nexport default (Provider: ContextProvider) =>\n  class Form extends React.Component<FormProps, FormState> {\n    // Keep tracks of what fields are mounted in the Form.\n    // This is the source of truth for field names that belongs to the form.\n    // At the moment, only contains `validator` function.\n    fieldsInfo = {};\n\n    shouldComponentUpdate(nextProps: FormProps, nextState: FormState) {\n      Object.keys(nextProps).forEach(key => {\n        if (nextProps[key] !== this.props[key]) {\n          console.log(`[Form]: Props ${key}`);\n        }\n      });\n      Object.keys(nextState).forEach(key => {\n        if (nextState[key] !== this.state[key]) {\n          console.log(`[Form]: State ${key}`);\n        }\n      });\n      return true;\n    }\n\n    /**\n     * Register the mounted field in the Form.\n     * @param {string} fieldName The name of the field.\n     * @param {Object} info The info to replace\n     */\n    registerField = (fieldName: string, info: {}) => {\n      if (!this.fieldsInfo[fieldName]) {\n        this.fieldsInfo[fieldName] = info;\n      }\n    };\n\n    /**\n     * Update the field to the given value in the Form.\n     * @param {string} fieldName The name of the field.\n     * @param {any} value The new value for the field.\n     */\n    updateValue = (fieldName: string, value: any) => {\n      this.setState(\n        prevState =>\n          !prevState.fields[fieldName] ||\n          prevState.fields[fieldName].value !== value\n            ? {\n                fields: {\n                  ...prevState.fields,\n                  [fieldName]: {\n                    ...prevState.fields[fieldName],\n                    value,\n                    // Clear field error whenever value changes\n                    error: null,\n                    isTouched: true,\n                  },\n                },\n              }\n            : null\n      );\n    };\n\n    /**\n     * Validate the given field using on the validator registered.\n     *\n     * This function is here because React batches setState in event handlers.\n     * In order for validate to work in the same event handler\n     * where updateValue is called, need to use the functional setState here.\n     * @param {string} fieldName The name of the field.\n     */\n    validateField = (fieldName: string) => {\n      this.setState(prevState => {\n        // Unable to use async/await in setState function\n        // This promise always resolves\n        this.fieldsInfo[fieldName]\n          .validator(getFieldValue(fieldName, prevState))\n          .then(error => {\n            this.setState(\n              nextState =>\n                error &&\n                (!nextState.fields[fieldName] ||\n                  nextState.fields[fieldName].error !== error)\n                  ? {\n                      fields: {\n                        ...nextState.fields,\n                        [fieldName]: {\n                          ...nextState.fields[fieldName],\n                          error,\n                          isTouched: true,\n                        },\n                      },\n                    }\n                  : null\n            );\n          });\n\n        // No immediate state change when validation is triggered\n        return null;\n      });\n    };\n\n    /**\n     * A helper function to update errors to the state.\n     * Any falsy value of the error will be ignored.\n     * @param {Object} errors An object with key being the field name and value being the error.\n     * @returns {boolean} Representing if there were any error set in the state.\n     */\n    _updateErrors = (errors: ErrorObject) => {\n      let hasErrors = false;\n      const errorObj = errors || {};\n\n      let partial = {\n        fields: this.state.fields,\n        isSubmitting: false,\n        isValidating: false,\n      };\n\n      Object.keys(errorObj)\n        .filter(name => !!errorObj[name])\n        .forEach(name => {\n          if (name === 'form' && this.state.error !== errorObj[name]) {\n            hasErrors = true;\n            partial = {\n              ...partial,\n              error: errorObj[name],\n            };\n          }\n          if (\n            name !== 'form' &&\n            (!this.state.fields[name] ||\n              this.state.fields[name].error !== errorObj[name])\n          ) {\n            hasErrors = true;\n            partial = {\n              ...partial,\n              fields: {\n                ...partial.fields,\n                [name]: {\n                  ...this.state.fields[name],\n                  error: errorObj[name],\n                  isTouched: true,\n                },\n              },\n            };\n          }\n        });\n\n      if (hasErrors) {\n        this.setState(partial);\n      }\n\n      return hasErrors;\n    };\n\n    /**\n     * Submit the form.\n     *\n     * It will proceed to do the following in the order:\n     *    - Check if there is any error currently.\n     *    - If there is any error then terminate else continue.\n     *    - Run each field's validation.\n     *    - If there is any error then terminate else continue.\n     *    - Run the form's validation.\n     *    - If there is any error then terminate else continue.\n     *    - Run the form's submission.\n     *    - If there is any error return false else return true.\n     * @param {SyntheticEvent} event The onSubmit event of the HTML form.\n     * @returns {boolean} Representing if there were any error.\n     */\n    handleSubmit = async (event: SyntheticEvent<HTMLFormElement>) => {\n      event.preventDefault();\n      const { onSubmit, onValidate } = this.props;\n      const { fields } = this.state;\n\n      this.setState({ isSubmitting: true, isValidating: true });\n\n      // Check if there is any error currently.\n      const hasExistingErrors = Object.keys(fields).some(\n        fieldName => fields[fieldName].error\n      );\n      if (hasExistingErrors) {\n        this.setState({ isSubmitting: false, isValidating: false });\n        return false;\n      }\n\n      // Run each field's validation.\n      const fieldNames = Object.keys(this.fieldsInfo);\n      const fieldErrors = await Promise.all(\n        fieldNames.map(fieldName =>\n          this.fieldsInfo[fieldName].validator(\n            getFieldValue(fieldName, this.state)\n          )\n        )\n      );\n      const errors = fieldNames.reduce(\n        (reduced, fieldName, index) => ({\n          ...reduced,\n          [fieldName]: fieldErrors[index],\n        }),\n        {}\n      );\n      const hasFieldErrors = this._updateErrors(errors);\n      if (hasFieldErrors) return false;\n\n      // Run the form's validation.\n      const formData = getFormValues(fields);\n      if (onValidate) {\n        const formErrors = await onValidate(formData);\n        const hasFormErrors = this._updateErrors(formErrors);\n\n        if (hasFormErrors) return false;\n      } else {\n        this.setState({ isValidating: false });\n      }\n\n      // Run the form's submission.\n      const submitErrors = await onSubmit(formData);\n      const hasSubmitErrors = this._updateErrors(submitErrors);\n\n      return hasSubmitErrors;\n    };\n\n    /**\n     * Reset the form.\n     * It will clear all fields' state.\n     */\n    handleReset = () => {\n      const { initialValues, onReset } = this.props;\n\n      this.setState({\n        fields: getInitialValues(initialValues),\n      });\n\n      if (onReset) onReset();\n    };\n\n    state = {\n      error: null,\n      isValidating: false,\n      isSubmitting: false,\n      fields: getInitialValues(this.props.initialValues),\n      updateValue: this.updateValue,\n      registerField: this.registerField,\n      validateField: this.validateField,\n    };\n\n    render() {\n      const {\n        children,\n        onSubmit,\n        onReset,\n        onValidate,\n        initialValues,\n        ...rest\n      } = this.props;\n      console.log('[Form]: render');\n\n      return (\n        <Provider value={this.state}>\n          <form\n            {...rest}\n            onSubmit={this.handleSubmit}\n            onReset={this.handleReset}\n          >\n            {children}\n          </form>\n        </Provider>\n      );\n    }\n  };\n","/* @flow */\nimport * as React from 'react';\nimport FioraField from './FioraField';\n\nexport default (Consumer: ContextConsumer) => {\n  const Field = ({ name, onValidate, children }: FieldProps) => (\n    <Consumer>\n      {({ fields, registerField, updateValue, validateField }) => (\n        <FioraField\n          name={name}\n          onValidate={onValidate}\n          updateValue={updateValue}\n          registerField={registerField}\n          validateField={validateField}\n          {...fields[name]}\n        >\n          {children}\n        </FioraField>\n      )}\n    </Consumer>\n  );\n  return Field;\n};\n","/* @flow */\nimport * as React from 'react';\nimport FioraFormMeta from './FioraFormMeta';\n\nexport default (Consumer: ContextConsumer) => {\n  const FormMeta = ({ children }: FormMetaProps) => (\n    <Consumer>\n      {({ fields, error, isValidating, isSubmitting }) => (\n        <FioraFormMeta\n          error={error}\n          isValidating={isValidating}\n          isSubmitting={isSubmitting}\n          isTouched={Object.keys(fields).some(name => fields[name].isTouched)}\n          isValid={!Object.keys(fields).some(name => fields[name].error)}\n        >\n          {children}\n        </FioraFormMeta>\n      )}\n    </Consumer>\n  );\n  return FormMeta;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { css } from 'react-emotion';\nimport { LiveProvider, LiveEditor, LiveError, LivePreview } from 'react-live';\nimport createFiora from '../../../../src';\n\nconst cssLive = css`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 24px;\n`;\n\nconst cssEditor = css`\n  width: 480px;\n  padding: 24px;\n  position: relative;\n`;\n\nconst cssPreview = css`\n  padding: 24px;\n  width: 396px;\n  background-color: #fafafa;\n`;\n\nclass PreComponent extends React.Component {\n  instance = createFiora();\n\n  render() {\n    const { children } = this.props;\n    const showInteractive =\n      children.props.props &&\n      !children.props.props.className.endsWith('-static');\n\n    return (\n      <LiveProvider\n        code={children.props.children}\n        scope={this.instance}\n        mountStylesheet={false}\n        className={showInteractive ? cssLive : ''}\n      >\n        <LiveEditor\n          contentEditable={showInteractive}\n          className={showInteractive ? cssEditor : ''}\n        />\n        {showInteractive ? <LiveError /> : null}\n        {showInteractive ? <LivePreview className={cssPreview} /> : null}\n      </LiveProvider>\n    );\n  }\n}\n\nPreComponent.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default PreComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { StaticQuery, graphql } from 'gatsby';\nimport { css } from 'react-emotion';\nimport { MDXProvider } from '@mdx-js/tag';\n\nimport Meta from './Meta';\nimport Sidebar from './Sidebar';\nimport PreComponent from './PreComponent';\n\nconst cssLayout = css``;\n\nconst cssMain = css`\n  margin-left: 240px;\n`;\n\nconst cssMainSection = css`\n  margin: auto;\n  width: 1020px;\n  padding: 36px 72px 72px 72px;\n`;\n\nfunction Layout({ children }) {\n  return (\n    <StaticQuery\n      query={graphql`\n        query SiteMetaQuery {\n          site {\n            siteMetadata {\n              title\n              description\n              keywords\n            }\n          }\n        }\n      `}\n    >\n      {({ site }) => (\n        <>\n          <Meta metadata={site.siteMetadata} />\n          <div className={cssLayout}>\n            <Sidebar siteTitle={site.siteMetadata.title} />\n            <main className={cssMain}>\n              <MDXProvider components={{ pre: PreComponent }}>\n                <section className={cssMainSection}>{children}</section>\n              </MDXProvider>\n            </main>\n          </div>\n        </>\n      )}\n    </StaticQuery>\n  );\n}\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","export { default } from './Layout';\n"],"sourceRoot":""}